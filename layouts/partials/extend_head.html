{{- /* Head custom content area start */ -}}
{{- /*     Insert any custom code (web-analytics, resources, etc.) - it will appear in the <head></head> section of every page. */ -}}
{{- /*     Can be overwritten by partial with the same name in the global layouts. */ -}}
{{- /* Head custom content area end */ -}}
{{ partial "mathjax.html" . }}

{{- /* 加载首页动画JavaScript */ -}}
<script defer src="{{ "js/home_animations.js" | absURL }}"></script>
<style>
    /* 修改文章页标题字号 */
    .post-single .post-title {
        font-size: 40px; /* 默认通常是 40px 左右，你可以改小或改大 */
    }

    /* 如果觉得移动端（手机）上标题也太大了，可以单独设置 */
    @media screen and (max-width: 768px) {
        .post-single .post-title {
            font-size: 24px;
        }
    }
</style>

{{- if and (.IsPage) (ne .Title "最近更新") (ne .Title "搜索") -}}
<style>
    /* 注意：这里不需要改 :root 全局变量了，
       因为我们要避免污染其他页面。
       我们直接针对 body.single 下的 .main 进行样式覆盖。
    */

    /* --- 1. 针对电脑大屏 (文章页专用布局) --- */
    @media screen and (min-width: 1300px) {
        .main {
            /* 强制覆盖默认的 max-width */
            max-width: none !important; 
            width: auto !important;

            /* 左边留给目录的空间 */
            margin-left: 23% !important; 
            
            /* 右边留白 */
            margin-right: 2% !important; 
        }
    }

    /* --- 2. 超大屏幕微调 --- */
    @media screen and (min-width: 1800px) {
        .main {
            margin-left: 25% !important; 
            margin-right: 5% !important;
        }
    }

    /* --- 3. 移动端/小屏保护 --- */
    /* 当屏幕小于 1300px 时，恢复默认的居中显示，
       防止在笔记本小屏幕上目录挤占正文 */
    @media screen and (max-width: 1299px) {
        .main {
            margin: auto !important;
            max-width: calc(100% - 30px) !important; /* 保持原主题的移动端体验 */
            width: 100% !important;
        }
    }
</style>
{{- end -}}

<style>
     @media screen and (min-width: 1300px) {
        .main {
            /* 强制覆盖默认的 max-width */
            max-width: none !important; 
            width: auto !important;
        }
    }
</style>
