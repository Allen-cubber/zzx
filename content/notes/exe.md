### **打包前的最后检查**

在开始打包之前，请务必确认以下几点，这能避免90%的打包问题：

1.  **正确的Python环境**：确保你是在一个**稳定**的Python环境（如Python 3.11）中进行操作。打开PyCharm的终端，检查命令提示符前是否有 `(.venv)` 或类似的环境标志。
2.  **安装 `pyinstaller`**：确保你的环境中已经安装了打包工具。如果没有，请在PyCharm的终端中运行：
    ```bash
    pip install pyinstaller
    ```

---

### **开始打包（一步到位）**

打包过程只需要在终端中运行一条命令。

**第一步：打开终端**

在PyCharm中，打开底部的 **`Terminal`** (终端) 面板。

**第二步：运行打包命令**

将下面这行 **完整的命令** 复制并粘贴到终端中，然后按 **回车 (Enter)**。

```bash
pyinstaller --onefile --windowed --add-data "courses.json;." app.py
```

**命令参数详解（方便你理解）：**

*   `pyinstaller`: 这是你调用的打包程序。
*   `--onefile`: 这是最重要的参数之一。它告诉 `pyinstaller` 把所有需要的东西（你的代码、依赖的库、Python解释器本身）都打包进 **一个单独的 `.exe` 文件**。如果不加这个参数，它会生成一个包含很多文件的文件夹。
*   `--windowed`: 这个参数用于隐藏程序运行时弹出的黑色命令行窗口（控制台）。因为我们的程序是图形界面的（Tkinter），所以我们不希望看到那个黑框。
*   `--add-data "courses.json;."`: 这个参数是**至关重要**的。它告诉 `pyinstaller`：“请把 `courses.json` 这个文件也打包进去，并且在程序运行时，让它位于和 `.exe` 文件相同的根目录（用 `.` 表示）”。**如果没有这一步，打包后的 `.exe` 文件会因为找不到 `courses.json` 而闪退。**
*   `app.py`: 这是你的主程序文件名。

**第三步：等待打包完成**

按下回车后，终端会滚动输出大量信息。这个过程可能需要一到两分钟，`pyinstaller` 正在分析你的代码，寻找依赖，并把它们捆绑在一起。

请耐心等待，直到命令执行完毕，终端重新出现可以输入命令的提示符。

**第四步：找到你的 `.exe` 文件**

打包成功后，`pyinstaller` 会在你的项目根目录 (`C_Calculator`) 下创建几个新的文件夹，其中最重要的是：

*   `dist` 文件夹

**你的最终成品就在 `dist` 文件夹里！**

打开 `dist` 文件夹，你会看到一个名为 **`app.exe`** 的文件。

---

### **如何分发和使用**

*   **分发**：你只需要把 `dist` 文件夹里的 **`app.exe`** 这一个文件发给你的同学即可。他们不需要安装任何东西。
*   **使用**：同学拿到 `app.exe` 后，直接双击就可以运行你的C值计算器了。

**重要提示：**
每次你修改了 `app.py` 或 `courses.json` 的代码后，都需要**重新执行一次打包命令**来生成新的 `.exe` 文件。